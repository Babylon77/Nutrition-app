services:
  # Production Environment (MVP v1.x + V2 when ready)
  - type: web
    name: nutrition-app
    env: node
    buildCommand: npm run build:all
    startCommand: npm run start:production
    repo: https://github.com/Babylon77/Nutrition-app.git
    branch: master  # Stable releases only
    autoDeploy: true
    envVars:
      - key: NODE_ENV
        value: production
      - key: PORT
        value: 10000
      - key: MONGODB_URI
        sync: false  # Set in Render dashboard
      - key: JWT_SECRET
        sync: false  # Set in Render dashboard
      - key: JWT_EXPIRE
        value: 7d
      - key: OPENAI_API_KEY
        sync: false  # Set in Render dashboard 